2025-05-24 10:43:25.402 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"title": "CLI Test Document", "content": "Testing CRUD operations via CLI", "tags": ["test", "validation"], "timestamp": 1748097798.7557433}
2025-05-24 10:43:25.402 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:43:18.944 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:43:18.997 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:43:20.071 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:43:20.436 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:43:22.504 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:43:22.560 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:43:22.560 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:43:22.560 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:43:22.560 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:43:23.688 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:23.688 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:23.689 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:23.690 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:23.692 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:23.692 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7162bb166500>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:23.692 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:23.692 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:43:23.692 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:23.692 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:23.694 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:23.694 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:23.696 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:23.696 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7162bb1665c0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:23.696 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:23.696 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:43:24.195 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:24.195 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:24.197 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:24.197 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:24.198 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:24.198 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7162a3f04100>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:24.198 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:24.199 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │   args = ()                                                              │ │
│ │ kwargs = {                                                               │ │
│ │          │   'collection': 'test_cli_validation',                        │ │
│ │          │   'data': '{"title": "CLI Test Document", "content": "Testing │ │
│ │          CRUD operations via CLI", "ta'+61,                              │ │
│ │          │   'output_format': <OutputFormat.TABLE: 'table'>,             │ │
│ │          │   'key': None,                                                │ │
│ │          │   'embed': True,                                              │ │
│ │          │   'embed_fields': None                                        │ │
│ │          }                                                               │ │
│ │ output = <typer.models.OptionInfo object at 0x7162bc1c6ef0>              │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.crud_commands.create_document() got multiple values for 
keyword argument 'output_format'

2025-05-24 10:43:32.063 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "Python is a high-level programming language", "type": "language"}
2025-05-24 10:43:32.063 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:43:25.592 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:43:25.646 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:43:26.729 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:43:27.102 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:43:29.170 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:43:29.226 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:43:29.226 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:43:29.226 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:43:29.226 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:43:30.368 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:30.369 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:30.370 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:30.370 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:30.372 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:30.372 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ced737824d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:30.372 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:30.372 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:43:30.373 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:30.373 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:30.374 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:30.374 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:30.375 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:30.376 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ced73782590>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:30.376 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:30.376 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:43:30.874 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:30.874 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:30.875 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:30.875 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:30.877 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:30.877 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ced5b51c0d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:30.877 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:30.877 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │   args = ()                                                              │ │
│ │ kwargs = {                                                               │ │
│ │          │   'collection': 'test_cli_validation',                        │ │
│ │          │   'data': '{"content": "Python is a high-level programming    │ │
│ │          language", "type": "language"}',                                │ │
│ │          │   'output_format': <OutputFormat.TABLE: 'table'>,             │ │
│ │          │   'key': None,                                                │ │
│ │          │   'embed': True,                                              │ │
│ │          │   'embed_fields': None                                        │ │
│ │          }                                                               │ │
│ │ output = <typer.models.OptionInfo object at 0x7ced74fdeec0>              │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.crud_commands.create_document() got multiple values for 
keyword argument 'output_format'

2025-05-24 10:43:38.802 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "Machine learning uses algorithms to learn patterns", "type": "ml"}
2025-05-24 10:43:38.802 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:43:32.254 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:43:32.307 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:43:33.410 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:43:33.777 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:43:35.861 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:43:35.917 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:43:35.917 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:43:35.918 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:43:35.918 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:43:37.118 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:37.118 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:37.120 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:37.120 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:37.121 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:37.121 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x77471ab664a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:37.121 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:37.122 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:43:37.122 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:37.122 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:37.123 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:37.123 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:37.124 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:37.124 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x77471ab66560>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:37.124 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:37.125 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:43:37.621 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:37.621 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:37.622 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:37.622 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:37.624 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:37.624 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7747039040a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:37.624 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:37.624 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │   args = ()                                                              │ │
│ │ kwargs = {                                                               │ │
│ │          │   'collection': 'test_cli_validation',                        │ │
│ │          │   'data': '{"content": "Machine learning uses algorithms to   │ │
│ │          learn patterns", "type": "ml"}',                                │ │
│ │          │   'output_format': <OutputFormat.TABLE: 'table'>,             │ │
│ │          │   'key': None,                                                │ │
│ │          │   'embed': True,                                              │ │
│ │          │   'embed_fields': None                                        │ │
│ │          }                                                               │ │
│ │ output = <typer.models.OptionInfo object at 0x77471bbc6e90>              │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.crud_commands.create_document() got multiple values for 
keyword argument 'output_format'

2025-05-24 10:43:45.531 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "ArangoDB is a multi-model database", "type": "database"}
2025-05-24 10:43:45.532 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:43:38.990 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:43:39.043 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:43:40.129 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:43:40.496 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:43:42.572 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:43:42.628 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:43:42.628 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:43:42.628 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:43:42.628 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:43:43.845 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:43.845 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:43.846 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:43.846 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:43.848 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:43.849 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7b0e25f5a3e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:43.849 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:43.849 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:43:43.849 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:43.849 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:43.850 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:43.850 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:43.852 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:43.852 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7b0e25f5a4a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:43.852 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:43.852 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:43:44.353 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:44.353 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:44.355 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:44.355 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:44.357 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:44.357 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7b0e0efa7fd0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:44.357 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:44.357 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │   args = ()                                                              │ │
│ │ kwargs = {                                                               │ │
│ │          │   'collection': 'test_cli_validation',                        │ │
│ │          │   'data': '{"content": "ArangoDB is a multi-model database",  │ │
│ │          "type": "database"}',                                           │ │
│ │          │   'output_format': <OutputFormat.TABLE: 'table'>,             │ │
│ │          │   'key': None,                                                │ │
│ │          │   'embed': True,                                              │ │
│ │          │   'embed_fields': None                                        │ │
│ │          }                                                               │ │
│ │ output = <typer.models.OptionInfo object at 0x7b0e270badd0>              │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.crud_commands.create_document() got multiple values for 
keyword argument 'output_format'

2025-05-24 10:43:53.254 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli search semantic --query programming languages --collection test_cli_validation --format json
2025-05-24 10:43:53.254 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:43:46.725 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:43:46.777 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:43:47.888 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:43:48.260 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:43:50.344 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:43:50.400 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:43:50.400 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:43:50.400 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:43:50.400 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:43:51.608 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:51.608 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:51.610 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:51.610 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:51.612 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:51.612 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ccdd4d663e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:51.612 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:51.612 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:43:51.612 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:51.612 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:51.614 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:51.614 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:51.615 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:51.615 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ccdd4d664a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:51.615 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:51.616 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:43:52.115 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:52.116 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:52.117 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:52.117 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:52.119 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:52.119 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ccdbdcb3fd0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:52.119 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:52.119 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
Usage: python -m arangodb.cli search semantic [OPTIONS]
Try 'python -m arangodb.cli search semantic -h' for help.
╭─ Error ──────────────────────────────────────────────────────────────────────╮
│ No such option: --format                                                     │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-24 10:44:02.923 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli memory create --user What is ArangoDB? --agent ArangoDB is a multi-model NoSQL database --conversation-id test-conv-001
2025-05-24 10:44:02.924 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:43:53.453 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:43:53.505 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:43:54.586 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:43:54.952 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:43:57.032 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:43:57.090 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:43:57.090 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:43:57.090 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:43:57.090 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:43:58.222 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:58.222 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:58.224 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:58.224 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:58.226 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:58.226 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79d7a497e500>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:58.226 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:58.227 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:43:58.227 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:58.227 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:58.228 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:58.228 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:58.229 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:58.229 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79d7a497e5c0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:58.229 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:58.230 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:43:58.735 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:43:58.735 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:43:58.737 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:43:58.737 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:43:58.738 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:43:58.738 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79d78c71c100>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:43:58.738 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:43:58.739 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:43:58.774 | INFO     | arangodb.cli.memory_commands:create_memory:70 - Creating memory: conversation_id=test-conv-001
2025-05-24 10:43:58.774 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:43:58.774 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:43:58.778 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:43:58.778 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:43:58.780 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:43:58.781 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:43:58.781 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:43:58.782 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:43:58.783 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:43:58.784 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:43:58.784 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:43:58.784 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:43:58.785 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:43:58.786 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:43:58.787 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:43:58.787 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:43:58.789 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:43:58.789 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:43:58.789 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:43:58.789 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:43:58.789 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:43:58.789 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:43:58.789 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:43:58.790 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:43:59.793 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:43:59.813 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:44:01.815 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:44:01.815 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:44:01.815 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:44:01.817 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:44:01.817 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:44:01.827 | ERROR    | arangodb.cli.memory_commands:create_memory:134 - Memory creation failed: 'str' object has no attribute 'isoformat'

2025-05-24 10:44:09.595 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli episode create test_episode_1748097842 --description Test episode for CLI validation
2025-05-24 10:44:09.595 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:44:03.117 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:44:03.175 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:44:04.260 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:44:04.626 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:44:06.710 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:44:06.767 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:44:06.767 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:44:06.767 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:44:06.767 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:44:07.902 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:07.902 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:07.903 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:07.903 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:07.905 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:07.905 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c57f4f7e470>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:07.905 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:07.906 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:44:07.906 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:07.906 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:07.907 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:07.907 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:07.909 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:07.909 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c57f4f7e530>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:07.909 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:07.909 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:44:08.406 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:08.407 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:08.408 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:08.408 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:08.410 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:08.410 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c57dcd1c070>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:08.410 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:08.410 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭──────────────────────────── locals ────────────────────────────╮           │
│ │   args = ()                                                    │           │
│ │ kwargs = {                                                     │           │
│ │          │   'name': 'test_episode_1748097842',                │           │
│ │          │   'description': 'Test episode for CLI validation', │           │
│ │          │   'user_id': None,                                  │           │
│ │          │   'session_id': None,                               │           │
│ │          │   'output_format': 'table'                          │           │
│ │          }                                                     │           │
│ │ output = <typer.models.OptionInfo object at 0x7c57de117760>    │           │
│ ╰────────────────────────────────────────────────────────────────╯           │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.episode_commands.create_episode() got multiple values 
for keyword argument 'output_format'

2025-05-24 10:44:16.254 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create entities {"name": "Python", "type": "programming_language"}
2025-05-24 10:44:16.255 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:44:09.785 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:44:09.839 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:44:10.933 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:44:11.297 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:44:13.372 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:44:13.428 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:44:13.428 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:44:13.428 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:44:13.428 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:44:14.562 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:14.562 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:14.563 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:14.563 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:14.565 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:14.565 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ad68875e4a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:14.565 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:14.565 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:44:14.566 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:14.566 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:14.567 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:14.567 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:14.568 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:14.568 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ad68875e560>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:14.568 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:14.568 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:44:15.072 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:15.072 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:15.074 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:15.074 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:15.075 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:15.075 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7ad6717f80a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:15.075 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:15.076 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │   args = ()                                                              │ │
│ │ kwargs = {                                                               │ │
│ │          │   'collection': 'entities',                                   │ │
│ │          │   'data': '{"name": "Python", "type":                         │ │
│ │          "programming_language"}',                                       │ │
│ │          │   'output_format': <OutputFormat.TABLE: 'table'>,             │ │
│ │          │   'key': None,                                                │ │
│ │          │   'embed': True,                                              │ │
│ │          │   'embed_fields': None                                        │ │
│ │          }                                                               │ │
│ │ output = <typer.models.OptionInfo object at 0x7ad6898bae90>              │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.crud_commands.create_document() got multiple values for 
keyword argument 'output_format'

2025-05-24 10:44:22.963 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create entities {"name": "Django", "type": "framework"}
2025-05-24 10:44:22.963 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:44:16.451 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:44:16.504 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:44:17.590 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:44:17.956 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:44:20.058 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:44:20.115 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:44:20.115 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:44:20.116 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:44:20.116 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:44:21.262 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:21.263 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:21.264 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:21.264 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:21.266 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:21.266 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7fb1c3f82410>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:21.266 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:21.266 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:44:21.267 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:21.267 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:21.267 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:21.268 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:21.269 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:21.269 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7fb1c3f824d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:21.269 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:21.269 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:44:21.780 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:21.780 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:21.781 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:21.781 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:21.783 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:21.783 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7fb1abd20040>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:21.783 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:21.784 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭──────────────────────────── locals ─────────────────────────────╮          │
│ │   args = ()                                                     │          │
│ │ kwargs = {                                                      │          │
│ │          │   'collection': 'entities',                          │          │
│ │          │   'data': '{"name": "Django", "type": "framework"}', │          │
│ │          │   'output_format': <OutputFormat.TABLE: 'table'>,    │          │
│ │          │   'key': None,                                       │          │
│ │          │   'embed': True,                                     │          │
│ │          │   'embed_fields': None                               │          │
│ │          }                                                      │          │
│ │ output = <typer.models.OptionInfo object at 0x7fb1c57e2e00>     │          │
│ ╰─────────────────────────────────────────────────────────────────╯          │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.crud_commands.create_document() got multiple values for 
keyword argument 'output_format'

2025-05-24 10:44:29.695 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli community detect --min-size 2
2025-05-24 10:44:29.696 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:44:23.154 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:44:23.207 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:44:24.299 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:44:24.670 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:44:26.774 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:44:26.831 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:44:26.831 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:44:26.831 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:44:26.831 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:44:27.978 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:27.978 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:27.980 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:27.980 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:27.983 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:27.983 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7fa59375e4d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:27.983 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:27.983 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:44:27.984 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:27.984 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:27.985 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:27.985 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:27.986 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:27.986 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7fa59375e590>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:27.986 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:27.986 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:44:28.487 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:28.487 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:28.489 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:28.489 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:28.491 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:28.491 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7fa57c7fc0d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:28.491 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:28.492 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭────────────────────────── locals ───────────────────────────╮              │
│ │   args = ()                                                 │              │
│ │ kwargs = {                                                  │              │
│ │          │   'min_size': 2,                                 │              │
│ │          │   'resolution': 1.0,                             │              │
│ │          │   'rebuild': False,                              │              │
│ │          │   'output_format': 'table'                       │              │
│ │          }                                                  │              │
│ │ output = <typer.models.OptionInfo object at 0x7fa57c7a6ec0> │              │
│ ╰─────────────────────────────────────────────────────────────╯              │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.community_commands.detect_communities() got multiple 
values for keyword argument 'output_format'

2025-05-24 10:44:36.334 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli temporal search-at-time test query 2025-05-24T10:44:29.696142 --collection memories
2025-05-24 10:44:36.334 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:44:29.889 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:44:29.941 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:44:31.045 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:44:31.412 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:44:33.505 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:44:33.566 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:44:33.566 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:44:33.566 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:44:33.566 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:44:34.708 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:34.708 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:34.710 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:34.710 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:34.713 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:34.713 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79a7f5166440>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:34.713 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:34.713 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:44:34.714 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:34.714 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:34.715 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:34.715 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:34.717 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:34.717 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79a7f5166500>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:34.717 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:34.717 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:44:35.219 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:44:35.219 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:44:35.221 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:44:35.221 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:44:35.222 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:44:35.222 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79a7ddf04040>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:44:35.222 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:44:35.223 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
Usage: python -m arangodb.cli temporal search-at-time [OPTIONS] QUERY
                                                      TIMESTAMP
Try 'python -m arangodb.cli temporal search-at-time -h' for help.
╭─ Error ──────────────────────────────────────────────────────────────────────╮
│ No such option: --collection Did you mean --conversation?                    │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-24 10:53:02.863 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"title": "CLI Test Document", "content": "Testing CRUD operations via CLI", "tags": ["test", "validation"], "timestamp": 1748098371.4571328}
2025-05-24 10:53:02.863 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:52:51.649 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:52:51.703 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:52:52.792 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:52:53.157 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:52:55.243 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:52:55.300 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:52:55.300 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:52:55.300 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:52:55.300 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:52:56.431 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:52:56.432 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:52:56.433 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:52:56.434 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:52:56.436 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:52:56.436 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7b035f3861a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:52:56.436 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:52:56.436 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:52:56.436 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:52:56.437 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:52:56.437 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:52:56.438 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:52:56.439 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:52:56.439 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7b035f386260>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:52:56.439 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:52:56.439 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:52:56.772 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:52:56.772 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:52:56.773 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:52:56.773 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:52:56.774 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:52:56.775 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7b03471242e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:52:56.775 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:52:56.775 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:52:56.979 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 10:52:56.979 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:52:56.979 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:52:56.983 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:52:56.983 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:52:56.985 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:52:56.985 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:52:56.985 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:52:56.986 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:52:56.987 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:52:56.988 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:52:56.988 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:52:56.988 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:52:56.989 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:52:56.990 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:52:56.991 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:52:56.991 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:52:56.993 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:52:56.993 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:52:56.993 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:52:56.993 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:52:56.993 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:52:56.993 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:52:56.993 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:52:56.994 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:52:57.995 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:52:58.011 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:53:00.013 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:53:00.013 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:53:00.013 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:53:00.015 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:53:00.015 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:53:00.015 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: Testing CRUD operations via CLI 2025-05-24T10:53:0...
2025-05-24 10:53:00.015 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 10:53:01.478 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 10:53:01.695 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 10:53:01.698 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 10:53:14.218 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "Python is a high-level programming language", "type": "language"}
2025-05-24 10:53:14.218 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:53:03.057 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:53:03.110 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:53:04.207 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:53:04.573 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:53:06.644 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:53:06.700 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:53:06.700 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:53:06.700 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:53:06.700 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:53:07.844 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:07.844 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:07.846 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:07.846 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:07.848 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:07.848 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7cc674b861a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:07.848 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:07.848 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:07.848 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:07.848 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:07.849 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:07.849 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:07.851 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:07.851 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7cc674b86260>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:07.851 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:07.851 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:53:08.187 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:08.187 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:08.189 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:08.189 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:08.191 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:08.191 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7cc65c9202e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:08.191 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:08.191 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:08.402 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 10:53:08.402 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:53:08.402 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:53:08.406 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:53:08.406 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:53:08.409 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:53:08.409 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:53:08.409 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:53:08.410 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:53:08.411 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:53:08.412 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:53:08.412 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:53:08.412 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:53:08.414 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:53:08.415 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:53:08.416 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:53:08.416 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:53:08.418 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:53:08.418 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:53:08.418 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:53:08.418 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:53:08.418 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:53:08.418 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:53:08.418 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:53:08.419 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:53:09.422 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:53:09.442 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:53:11.444 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:53:11.444 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:53:11.444 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:53:11.447 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:53:11.447 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:53:11.447 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: Python is a high-level programming language 2025-0...
2025-05-24 10:53:11.447 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 10:53:12.829 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 10:53:13.048 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 10:53:13.051 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 10:53:25.526 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "Machine learning uses algorithms to learn patterns", "type": "ml"}
2025-05-24 10:53:25.526 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:53:14.406 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:53:14.459 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:53:15.536 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:53:15.900 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:53:17.967 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:53:18.023 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:53:18.023 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:53:18.023 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:53:18.023 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:53:19.154 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:19.154 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:19.156 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:19.156 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:19.159 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:19.159 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c85d39861a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:19.159 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:19.159 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:19.160 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:19.160 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:19.161 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:19.161 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:19.162 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:19.162 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c85d3986260>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:19.162 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:19.163 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:53:19.496 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:19.496 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:19.498 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:19.498 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:19.499 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:19.499 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c85bb7202e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:19.499 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:19.500 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:19.712 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 10:53:19.712 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:53:19.712 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:53:19.716 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:53:19.716 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:53:19.718 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:53:19.718 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:53:19.718 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:53:19.720 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:53:19.721 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:53:19.722 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:53:19.722 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:53:19.722 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:53:19.723 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:53:19.724 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:53:19.725 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:53:19.725 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:53:19.727 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:53:19.727 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:53:19.727 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:53:19.727 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:53:19.727 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:53:19.727 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:53:19.727 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:53:19.728 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:53:20.730 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:53:20.744 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:53:22.745 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:53:22.745 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:53:22.746 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:53:22.748 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:53:22.748 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:53:22.748 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: Machine learning uses algorithms to learn patterns...
2025-05-24 10:53:22.748 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 10:53:24.129 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 10:53:24.345 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 10:53:24.348 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 10:53:36.844 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "ArangoDB is a multi-model database", "type": "database"}
2025-05-24 10:53:36.844 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:53:25.717 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:53:25.770 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:53:26.872 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:53:27.240 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:53:29.298 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:53:29.354 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:53:29.354 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:53:29.355 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:53:29.355 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:53:30.502 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:30.502 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:30.504 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:30.505 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:30.507 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:30.507 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x71e39a5821d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:30.507 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:30.507 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:30.508 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:30.508 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:30.509 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:30.509 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:30.510 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:30.510 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x71e39a582290>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:30.510 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:30.511 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:53:30.836 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:30.836 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:30.837 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:30.837 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:30.839 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:30.839 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x71e38231c310>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:30.839 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:30.840 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:31.048 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 10:53:31.048 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:53:31.048 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:53:31.052 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:53:31.052 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:53:31.055 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:53:31.055 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:53:31.055 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:53:31.056 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:53:31.057 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:53:31.058 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:53:31.058 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:53:31.058 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:53:31.059 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:53:31.060 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:53:31.061 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:53:31.061 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:53:31.063 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:53:31.063 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:53:31.063 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:53:31.063 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:53:31.063 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:53:31.063 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:53:31.063 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:53:31.064 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:53:32.066 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:53:32.087 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:53:34.089 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:53:34.089 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:53:34.089 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:53:34.091 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:53:34.091 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:53:34.091 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: ArangoDB is a multi-model database 2025-05-24T10:5...
2025-05-24 10:53:34.091 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 10:53:35.458 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 10:53:35.673 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 10:53:35.676 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 10:53:44.440 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli search semantic --query programming languages --collection test_cli_validation --format json
2025-05-24 10:53:44.440 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:53:38.039 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:53:38.092 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:53:39.184 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:53:39.548 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:53:41.613 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:53:41.669 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:53:41.669 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:53:41.670 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:53:41.670 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:53:42.807 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:42.807 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:42.808 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:42.809 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:42.811 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:42.811 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x72a5327860b0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:42.811 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:42.812 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:42.812 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:42.812 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:42.813 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:42.813 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:42.815 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:42.815 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x72a532786170>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:42.815 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:42.815 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:53:43.144 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:43.144 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:43.146 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:43.146 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:43.147 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:43.147 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x72a51a5281f0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:43.147 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:43.148 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
Usage: python -m arangodb.cli search semantic [OPTIONS]
Try 'python -m arangodb.cli search semantic -h' for help.
╭─ Error ──────────────────────────────────────────────────────────────────────╮
│ No such option: --format                                                     │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-24 10:53:54.134 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli memory create --user What is ArangoDB? --agent ArangoDB is a multi-model NoSQL database --conversation-id test-conv-001
2025-05-24 10:53:54.134 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:53:44.629 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:53:44.681 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:53:45.752 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:53:46.116 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:53:48.184 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:53:48.240 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:53:48.240 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:53:48.240 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:53:48.240 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:53:49.408 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:49.408 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:49.410 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:49.410 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:49.412 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:49.412 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x788cded6a170>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:49.412 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:49.413 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:49.413 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:49.413 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:49.414 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:49.414 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:49.416 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:49.416 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x788cded6a230>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:49.416 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:49.416 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:53:49.746 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:49.747 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:49.748 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:49.748 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:49.750 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:49.750 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x788cc7b082b0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:49.750 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:49.750 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:49.958 | INFO     | arangodb.cli.memory_commands:create_memory:70 - Creating memory: conversation_id=test-conv-001
2025-05-24 10:53:49.958 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:53:49.958 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:53:49.962 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:53:49.962 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:53:49.965 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:53:49.965 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:53:49.965 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:53:49.966 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:53:49.967 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:53:49.968 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:53:49.968 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:53:49.968 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:53:49.969 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:53:49.970 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:53:49.971 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:53:49.972 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:53:49.973 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:53:49.973 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:53:49.973 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:53:49.973 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:53:49.973 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:53:49.974 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:53:49.974 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:53:49.974 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:53:50.977 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:53:50.998 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:53:53.000 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:53:53.000 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:53:53.000 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:53:53.003 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:53:53.003 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:53:53.012 | ERROR    | arangodb.cli.memory_commands:create_memory:134 - Memory creation failed: 'str' object has no attribute 'isoformat'

2025-05-24 10:54:00.836 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli episode create test_episode_1748098434 --description Test episode for CLI validation
2025-05-24 10:54:00.837 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:53:54.324 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:53:54.377 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:53:55.463 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:53:55.827 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:53:57.924 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:53:57.982 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:53:57.982 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:53:57.982 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:53:57.982 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:53:59.121 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:59.122 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:59.123 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:59.123 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:59.125 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:59.126 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79e5283621d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:59.126 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:59.126 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:53:59.126 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:59.126 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:59.127 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:59.127 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:59.129 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:59.129 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79e528362290>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:59.129 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:59.129 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:53:59.460 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:53:59.460 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:53:59.462 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:53:59.462 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:53:59.464 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:53:59.464 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x79e50ff04310>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:53:59.464 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:53:59.464 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭──────────────────────────── locals ────────────────────────────╮           │
│ │   args = ()                                                    │           │
│ │ kwargs = {                                                     │           │
│ │          │   'name': 'test_episode_1748098434',                │           │
│ │          │   'description': 'Test episode for CLI validation', │           │
│ │          │   'user_id': None,                                  │           │
│ │          │   'session_id': None,                               │           │
│ │          │   'output_format': 'table'                          │           │
│ │          }                                                     │           │
│ │ output = <typer.models.OptionInfo object at 0x79e511ff7ca0>    │           │
│ ╰────────────────────────────────────────────────────────────────╯           │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.episode_commands.create_episode() got multiple values 
for keyword argument 'output_format'

2025-05-24 10:54:12.272 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create entities {"name": "Python", "type": "programming_language"}
2025-05-24 10:54:12.272 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:54:01.026 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:54:01.078 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:54:02.151 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:54:02.515 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:54:04.587 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:54:04.644 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:54:04.644 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:54:04.644 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:54:04.645 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:54:05.776 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:05.776 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:05.778 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:05.778 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:05.781 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:05.781 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7918fc3821a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:05.781 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:05.781 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:54:05.782 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:05.782 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:05.783 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:05.783 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:05.785 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:05.785 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7918fc382260>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:05.785 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:05.785 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:54:06.114 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:06.114 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:06.115 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:06.115 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:06.117 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:06.117 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7918e41202e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:06.117 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:06.118 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:54:06.327 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: entities
2025-05-24 10:54:06.327 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:54:06.328 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:54:06.331 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:54:06.331 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:54:06.334 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:54:06.334 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:54:06.334 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:54:06.335 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:54:06.336 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:54:06.337 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:54:06.337 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:54:06.337 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:54:06.339 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:54:06.340 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:54:06.341 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:54:06.341 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:54:06.343 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:54:06.343 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:54:06.343 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:54:06.343 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:54:06.343 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:54:06.343 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:54:06.343 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:54:06.344 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:54:07.346 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:54:07.366 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:54:09.368 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:54:09.368 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:54:09.368 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:54:09.370 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:54:09.370 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:54:09.370 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: 2025-05-24T10:54:09.370687...
2025-05-24 10:54:09.370 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 10:54:10.884 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 10:54:11.102 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['created_at']
2025-05-24 10:54:11.105 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: entities

2025-05-24 10:54:23.593 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create entities {"name": "Django", "type": "framework"}
2025-05-24 10:54:23.594 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:54:12.461 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:54:12.513 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:54:13.581 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:54:13.943 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:54:16.010 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:54:16.065 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:54:16.066 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:54:16.066 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:54:16.066 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:54:17.195 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:17.195 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:17.197 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:17.197 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:17.200 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:17.200 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x794090d6a170>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:17.200 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:17.200 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:54:17.201 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:17.201 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:17.202 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:17.202 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:17.203 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:17.203 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x794090d6a230>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:17.203 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:17.203 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:54:17.532 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:17.532 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:17.534 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:17.534 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:17.535 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:17.535 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x794079b042b0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:17.535 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:17.535 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:54:17.747 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: entities
2025-05-24 10:54:17.747 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 10:54:17.747 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 10:54:17.751 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 10:54:17.751 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 10:54:17.754 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 10:54:17.754 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 10:54:17.754 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 10:54:17.755 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 10:54:17.756 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 10:54:17.757 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 10:54:17.757 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 10:54:17.757 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 10:54:17.758 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 10:54:17.759 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 10:54:17.760 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 10:54:17.760 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 10:54:17.762 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 10:54:17.762 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 10:54:17.762 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 10:54:17.762 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 10:54:17.762 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 10:54:17.762 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 10:54:17.762 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 10:54:17.763 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 10:54:18.765 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 10:54:18.779 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 10:54:20.780 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 10:54:20.780 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 10:54:20.781 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 10:54:20.783 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 10:54:20.783 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 10:54:20.783 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: 2025-05-24T10:54:20.783109...
2025-05-24 10:54:20.783 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 10:54:22.222 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 10:54:22.438 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['created_at']
2025-05-24 10:54:22.441 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: entities

2025-05-24 10:54:30.275 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli community detect --min-size 2
2025-05-24 10:54:30.275 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:54:23.781 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:54:23.834 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:54:24.928 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:54:25.294 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:54:27.379 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:54:27.435 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:54:27.435 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:54:27.436 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:54:27.436 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:54:28.584 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:28.584 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:28.585 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:28.586 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:28.588 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:28.588 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x71eb8b9861a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:28.588 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:28.588 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:54:28.588 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:28.588 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:28.589 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:28.589 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:28.591 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:28.591 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x71eb8b986260>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:28.591 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:28.591 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:54:28.923 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:28.923 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:28.924 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:28.924 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:28.926 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:28.926 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x71eb737242e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:28.926 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:28.927 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/graham/workspace/experiments/arangodb/src/arangodb/core/utils/cli/form │
│ atters.py:483 in wrapper                                                     │
│                                                                              │
│   480 │   │   ),                                                             │
│   481 │   │   **kwargs                                                       │
│   482 │   ):                                                                 │
│ ❱ 483 │   │   return typer_command(*args, output_format=output, **kwargs)    │
│   484 │                                                                      │
│   485 │   return wrapper                                                     │
│   486                                                                        │
│                                                                              │
│ ╭────────────────────────── locals ───────────────────────────╮              │
│ │   args = ()                                                 │              │
│ │ kwargs = {                                                  │              │
│ │          │   'min_size': 2,                                 │              │
│ │          │   'resolution': 1.0,                             │              │
│ │          │   'rebuild': False,                              │              │
│ │          │   'output_format': 'table'                       │              │
│ │          }                                                  │              │
│ │ output = <typer.models.OptionInfo object at 0x71eb74bd3370> │              │
│ ╰─────────────────────────────────────────────────────────────╯              │
╰──────────────────────────────────────────────────────────────────────────────╯
TypeError: arangodb.cli.community_commands.detect_communities() got multiple 
values for keyword argument 'output_format'

2025-05-24 10:54:36.918 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli temporal search-at-time test query 2025-05-24T10:54:30.276038 --collection memories
2025-05-24 10:54:36.918 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 10:54:30.463 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 10:54:30.516 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 10:54:31.590 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 10:54:31.956 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 10:54:34.064 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 10:54:34.121 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 10:54:34.122 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 10:54:34.122 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 10:54:34.122 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 10:54:35.283 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:35.283 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:35.285 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:35.285 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:35.287 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:35.287 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c873b986110>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:35.287 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:35.288 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 10:54:35.288 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:35.288 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:35.289 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:35.289 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:35.291 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:35.291 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c873b9861d0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:35.291 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:35.291 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 10:54:35.622 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 10:54:35.622 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 10:54:35.623 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 10:54:35.623 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 10:54:35.624 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 10:54:35.624 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c8723720250>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 10:54:35.625 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 10:54:35.625 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
Usage: python -m arangodb.cli temporal search-at-time [OPTIONS] QUERY
                                                      TIMESTAMP
Try 'python -m arangodb.cli temporal search-at-time -h' for help.
╭─ Error ──────────────────────────────────────────────────────────────────────╮
│ No such option: --collection Did you mean --conversation?                    │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-24 11:02:10.901 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"title": "CLI Test Document", "content": "Testing CRUD operations via CLI", "tags": ["test", "validation"], "timestamp": 1748098917.3483963}
2025-05-24 11:02:10.901 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 11:01:57.536 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:01:57.588 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:01:58.684 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:01:59.059 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:02:01.179 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:02:01.236 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:02:01.236 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:02:01.237 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:02:01.237 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:02:02.421 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:02.421 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:02.422 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:02.422 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:02.424 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:02.424 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7a424796a0e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:02.424 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:02.425 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:02.425 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:02.425 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:02.426 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:02.426 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:02.427 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:02.427 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7a424796a1a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:02.427 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:02.428 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 11:02:02.767 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:02.767 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:02.769 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:02.769 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:02.771 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:02.772 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7a42308b7e50>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:02.772 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:02.772 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:02.983 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 11:02:02.983 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 11:02:02.983 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 11:02:02.986 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 11:02:02.987 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 11:02:02.989 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 11:02:02.989 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 11:02:02.989 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 11:02:02.990 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 11:02:02.991 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 11:02:02.993 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 11:02:02.993 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 11:02:02.993 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 11:02:02.994 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 11:02:02.995 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 11:02:02.996 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 11:02:02.996 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 11:02:02.998 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 11:02:02.998 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 11:02:02.998 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 11:02:02.998 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 11:02:02.998 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 11:02:02.998 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 11:02:02.998 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 11:02:02.999 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 11:02:04.002 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 11:02:04.015 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 11:02:06.016 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 11:02:06.016 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 11:02:06.016 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 11:02:06.018 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 11:02:06.018 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 11:02:06.018 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: Testing CRUD operations via CLI 2025-05-24T11:02:0...
2025-05-24 11:02:06.018 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 11:02:09.482 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 11:02:09.701 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 11:02:09.704 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 11:02:22.461 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "Python is a high-level programming language", "type": "language"}
2025-05-24 11:02:22.461 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 11:02:11.095 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:02:11.148 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:02:12.245 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:02:12.615 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:02:14.709 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:02:14.766 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:02:14.766 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:02:14.766 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:02:14.766 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:02:15.928 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:15.928 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:15.930 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:15.930 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:15.932 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:15.932 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7831887860e0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:15.933 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:15.933 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:15.933 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:15.933 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:15.934 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:15.934 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:15.935 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:15.935 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7831887861a0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:15.935 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:15.936 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 11:02:16.273 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:16.273 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:16.275 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:16.275 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:16.276 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:16.276 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7831719d3e50>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:16.276 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:16.277 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:16.483 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 11:02:16.484 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 11:02:16.484 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 11:02:16.487 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 11:02:16.487 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 11:02:16.489 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 11:02:16.489 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 11:02:16.489 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 11:02:16.490 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 11:02:16.491 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 11:02:16.493 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 11:02:16.493 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 11:02:16.493 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 11:02:16.494 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 11:02:16.495 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 11:02:16.496 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 11:02:16.496 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 11:02:16.498 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 11:02:16.498 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 11:02:16.498 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 11:02:16.498 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 11:02:16.498 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 11:02:16.498 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 11:02:16.498 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 11:02:16.499 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 11:02:17.500 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 11:02:17.521 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 11:02:19.522 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 11:02:19.522 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 11:02:19.522 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 11:02:19.525 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 11:02:19.525 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 11:02:19.525 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: Python is a high-level programming language 2025-0...
2025-05-24 11:02:19.525 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 11:02:21.069 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 11:02:21.287 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 11:02:21.291 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 11:02:34.132 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "Machine learning uses algorithms to learn patterns", "type": "ml"}
2025-05-24 11:02:34.132 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 11:02:22.652 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:02:22.704 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:02:23.799 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:02:24.163 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:02:26.250 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:02:26.306 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:02:26.306 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:02:26.306 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:02:26.307 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:02:27.437 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:27.437 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:27.438 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:27.438 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:27.440 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:27.440 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x768507b5e140>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:27.440 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:27.440 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:27.441 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:27.441 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:27.442 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:27.442 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:27.443 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:27.443 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x768507b5e200>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:27.443 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:27.443 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 11:02:27.785 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:27.786 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:27.788 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:27.788 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:27.790 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:27.790 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7684f0bafeb0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:27.790 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:27.790 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:27.996 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 11:02:27.996 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 11:02:27.996 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 11:02:28.000 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 11:02:28.000 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 11:02:28.003 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 11:02:28.003 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 11:02:28.003 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 11:02:28.004 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 11:02:28.005 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 11:02:28.006 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 11:02:28.006 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 11:02:28.006 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 11:02:28.007 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 11:02:28.008 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 11:02:28.009 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 11:02:28.009 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 11:02:28.010 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 11:02:28.010 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 11:02:28.011 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 11:02:28.011 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 11:02:28.011 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 11:02:28.011 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 11:02:28.011 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 11:02:28.011 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 11:02:29.013 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 11:02:29.027 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 11:02:31.029 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 11:02:31.029 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 11:02:31.029 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 11:02:31.031 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 11:02:31.031 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 11:02:31.031 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: Machine learning uses algorithms to learn patterns...
2025-05-24 11:02:31.031 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 11:02:32.747 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 11:02:32.963 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 11:02:32.967 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 11:02:45.549 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create test_cli_validation {"content": "ArangoDB is a multi-model database", "type": "database"}
2025-05-24 11:02:45.549 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 11:02:34.323 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:02:34.376 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:02:35.471 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:02:35.838 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:02:37.921 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:02:37.978 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:02:37.978 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:02:37.979 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:02:37.979 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:02:39.135 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:39.135 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:39.136 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:39.136 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:39.139 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:39.139 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x74c969d86140>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:39.139 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:39.139 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:39.140 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:39.140 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:39.141 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:39.141 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:39.143 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:39.143 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x74c969d86200>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:39.143 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:39.143 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 11:02:39.474 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:02:39.475 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:02:39.476 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4eaad48ce5871557fb4a', 'd72f6b7201a3d3048025c12869fa0baf6200ea3018112d...
2025-05-24 11:02:39.476 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:02:39.478 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:02:39.478 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x74c952fd3eb0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:02:39.478 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:02:39.478 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:02:39.687 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: test_cli_validation
2025-05-24 11:02:39.687 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 11:02:39.687 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 11:02:39.690 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 11:02:39.690 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 11:02:39.693 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 11:02:39.693 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 11:02:39.693 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 11:02:39.694 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 11:02:39.695 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 11:02:39.696 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 11:02:39.696 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 11:02:39.696 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 11:02:39.697 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 11:02:39.698 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 11:02:39.699 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 11:02:39.699 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 11:02:39.701 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 11:02:39.701 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 11:02:39.701 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 11:02:39.701 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 11:02:39.701 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 11:02:39.701 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 11:02:39.701 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 11:02:39.702 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 11:02:40.704 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 11:02:40.725 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 11:02:42.727 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 11:02:42.727 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 11:02:42.727 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 11:02:42.729 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 11:02:42.729 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 11:02:42.729 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: ArangoDB is a multi-model database 2025-05-24T11:0...
2025-05-24 11:02:42.729 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 11:02:44.157 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 11:02:44.374 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['content', 'created_at']
2025-05-24 11:02:44.377 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: test_cli_validation

2025-05-24 11:03:33.850 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:03:33.903 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:03:34.987 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:03:35.352 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:03:37.435 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:03:37.492 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:03:37.492 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:03:37.492 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:03:37.492 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:03:38.651 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:03:38.651 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:03:38.652 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:03:38.652 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:03:38.654 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:03:38.654 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x78916678b8b0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:03:38.654 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:03:38.655 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:03:38.655 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:03:38.655 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:03:38.656 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:03:38.657 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:03:38.658 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:03:38.659 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x789167119ba0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:03:38.659 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:03:38.659 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:03:38.990 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:03:38.991 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:03:38.992 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:03:38.992 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:03:38.994 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:03:38.994 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x78914ffe1660>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:03:38.994 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:03:38.995 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:03:39.188 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 11:03:39.188 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 11:03:39.191 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 11:03:39.192 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 11:03:39.194 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 11:03:39.194 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 11:03:39.194 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 11:03:39.195 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 11:03:39.197 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 11:03:39.198 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 11:03:39.198 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 11:03:39.198 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 11:03:39.199 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 11:03:39.200 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 11:03:39.201 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 11:03:39.201 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 11:03:39.203 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 11:03:39.203 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 11:03:39.203 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 11:03:39.203 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 11:03:39.203 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 11:03:39.203 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 11:03:39.203 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 11:03:39.204 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 11:03:40.207 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 11:03:40.221 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 11:03:42.224 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 11:03:42.224 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 11:03:42.224 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 11:03:42.226 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 11:03:42.226 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 11:04:47.312 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli search semantic --query programming languages --collection test_cli_validation --format json
2025-05-24 11:04:47.312 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 11:04:40.819 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:04:40.871 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:04:41.964 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:04:42.329 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:04:44.427 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:04:44.484 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:04:44.484 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:04:44.484 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:04:44.484 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:04:45.649 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:04:45.649 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:04:45.651 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:04:45.651 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:04:45.653 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:04:45.653 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x731dde75e140>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:04:45.653 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:04:45.654 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:04:45.654 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:04:45.654 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:04:45.655 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:04:45.655 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:04:45.656 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:04:45.656 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x731dde75e230>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:04:45.656 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:04:45.657 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 11:04:46.012 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:04:46.013 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:04:46.015 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:04:46.015 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:04:46.016 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:04:46.016 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x731dc77afe50>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:04:46.016 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:04:46.017 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
Usage: python -m arangodb.cli search semantic [OPTIONS]
Try 'python -m arangodb.cli search semantic -h' for help.
╭─ Error ──────────────────────────────────────────────────────────────────────╮
│ No such option: --format                                                     │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-24 11:04:57.068 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli memory create --user What is ArangoDB? --agent ArangoDB is a multi-model NoSQL database --conversation-id test-conv-001
2025-05-24 11:04:57.068 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 11:04:47.503 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:04:47.556 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:04:48.662 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:04:49.032 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:04:51.133 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:04:51.189 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:04:51.189 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:04:51.190 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:04:51.190 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:04:52.350 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:04:52.350 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:04:52.352 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:04:52.352 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:04:52.354 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:04:52.354 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c207776a230>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:04:52.354 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:04:52.355 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:04:52.355 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:04:52.355 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:04:52.356 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:04:52.356 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:04:52.357 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:04:52.357 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c207776a320>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:04:52.358 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:04:52.358 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 11:04:52.690 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:04:52.691 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:04:52.692 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:04:52.692 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:04:52.694 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:04:52.694 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7c20606b7f40>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:04:52.694 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:04:52.695 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:04:52.902 | INFO     | arangodb.cli.memory_commands:create_memory:70 - Creating memory: conversation_id=test-conv-001
2025-05-24 11:04:52.902 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 11:04:52.902 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 11:04:52.905 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 11:04:52.905 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 11:04:52.908 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 11:04:52.908 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 11:04:52.908 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 11:04:52.909 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 11:04:52.910 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 11:04:52.911 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 11:04:52.911 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 11:04:52.911 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 11:04:52.912 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 11:04:52.913 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 11:04:52.914 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 11:04:52.914 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 11:04:52.916 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 11:04:52.916 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 11:04:52.916 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 11:04:52.916 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 11:04:52.916 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 11:04:52.916 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 11:04:52.916 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 11:04:52.917 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 11:04:53.920 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 11:04:53.937 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 11:04:55.938 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 11:04:55.938 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 11:04:55.938 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 11:04:55.940 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 11:04:55.940 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 11:04:55.948 | ERROR    | arangodb.cli.memory_commands:create_memory:134 - Memory creation failed: 'str' object has no attribute 'isoformat'

2025-05-24 11:05:27.910 | ERROR    | __main__:run_command:54 - Command failed: python -m arangodb.cli crud create entities {"name": "Python", "type": "programming_language"}
2025-05-24 11:05:27.910 | ERROR    | __main__:run_command:55 - Error: 2025-05-24 11:05:16.681 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'python-arango' is available
2025-05-24 11:05:16.733 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'numpy' is available
2025-05-24 11:05:17.820 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'torch' is available
2025-05-24 11:05:18.187 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'transformers' is available
2025-05-24 11:05:20.268 | DEBUG    | arangodb.core.utils.dependency_checker:check_dependency:99 - Dependency 'sentence-transformers' is available
2025-05-24 11:05:20.325 | ERROR    | arangodb.core.constants:<module>:218 - Enhanced configuration validation failed: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.11/u/root-validator-pre-skip
2025-05-24 11:05:20.325 | WARNING  | arangodb.core.constants:<module>:219 - Falling back to legacy validation
2025-05-24 11:05:20.325 | INFO     | arangodb.core.utils.embedding_utils:<module>:15 - Transformers library is available for embeddings
2025-05-24 11:05:20.326 | WARNING  | arangodb.core.utils.embedding_utils:<module>:24 - Failed to import config, using default embedding settings
2025-05-24 11:05:21.475 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:05:21.475 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:05:21.477 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:05:21.477 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:05:21.479 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:05:21.479 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7d8570f62200>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:05:21.479 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:05:21.479 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:05:21.480 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:05:21.480 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:05:21.481 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:05:21.481 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:05:21.482 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:05:21.482 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7d8570f622f0>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:05:21.482 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:05:21.482 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
/home/graham/workspace/experiments/arangodb/.venv/lib/python3.10/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'validate_by_name'
  warnings.warn(message, UserWarning)
2025-05-24 11:05:21.813 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:42 - Starting LiteLLM cache initialization (Redis target: localhost:6379)...
2025-05-24 11:05:21.814 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:47 - Testing Redis connection...
2025-05-24 11:05:21.815 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:64 - Existing Redis keys: ['18e649e02b8eeb2488ce212b123e6e925108f045fb76eb5812c6e953082f52b7', 'dc355cecb75e0af9b64063b62b121eba005f7ef5fc9aefb12f56001d4edc29a9', 'cbb4eaf27ddfe93e981ad75ec335a15d3d0162e4ba2a51b58f273ab1638e0c71', '94f18885b1f2257a0a8e2c681781456b5c74bee892ea93d98938e5af136674ae', 'b49c1cb7010fd01bc443a55b863846ed9612e6aad367dc36b6d12acc5a2f478d', 'f74073102aa4e4d9405ef6920037701c64f00d9baeb1c945f37aa8fd9023341a', '1e708eaad62f3afe51199ecab3fe9f821326f212bb677d6a1c7b78592a5c7638', '0636d2feb7d5b45f3a06ca26747513ab8d8674afc279ef29003461dd1af9fb19', 'eb57167a74a6728a694763f9799503c67df5deb23e22a3fab03b31ef2744759a', '5c27f317a8226aa2f3ff75972bdd0bde1156bacfbe38596450a634cc5c95fc10', '5f0c218c699e360586b5cb69caef652cef2b9c91cf51cb2594e910ee77836bdd', 'f88aa26934e8616f9f50ac2a28131f13feedd84854a77daa70aa5776b35a1d12', 'ac568f35c1005685f3415b17e86f653e8ef34623a508ad42b594a645c3b83a4d', 'd9f909439676871ae1ff6740b2f9b6a91322c273bdb106651e602f2db3a8206b', 'bf8375328e96d4603386e2adce593769629485a7902c4e...
2025-05-24 11:05:21.815 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:69 - Configuring LiteLLM Redis cache...
2025-05-24 11:05:21.817 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:80 - Enabling LiteLLM cache...
2025-05-24 11:05:21.817 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:87 - LiteLLM cache config: {'cache': <litellm.caching.redis_cache.RedisCache object at 0x7d8559faff10>, 'supported_call_types': ['acompletion', 'completion'], 'type': <LiteLLMCacheType.REDIS: 'redis'>, 'namespace': None, 'redis_flush_size': None, 'ttl': 172800, 'mode': <CacheMode.default_on: 'default_on'>}
2025-05-24 11:05:21.817 | INFO     | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:90 - ✅ Redis caching enabled on localhost:6379
2025-05-24 11:05:21.817 | DEBUG    | arangodb.core.utils.initialize_litellm_cache:initialize_litellm_cache:97 - Redis test write/read successful: True
2025-05-24 11:05:22.022 | INFO     | arangodb.cli.crud_commands:create_document:67 - Creating document in collection: entities
2025-05-24 11:05:22.022 | DEBUG    | arangodb.cli.db_connection:get_db_connection:74 - Attempting to connect to ArangoDB...
2025-05-24 11:05:22.022 | DEBUG    | arangodb.core.arango_setup:connect_arango:173 - Connecting to ArangoDB at http://localhost:8529
2025-05-24 11:05:22.027 | DEBUG    | arangodb.core.arango_setup:connect_arango:187 - Successfully connected to ArangoDB
2025-05-24 11:05:22.027 | DEBUG    | arangodb.cli.db_connection:get_db_connection:79 - Ensuring database 'memory_bank' exists...
2025-05-24 11:05:22.030 | DEBUG    | arangodb.core.arango_setup:ensure_database:246 - Connected to database: memory_bank
2025-05-24 11:05:22.030 | DEBUG    | arangodb.cli.db_connection:get_db_connection:85 - Successfully connected to database 'memory_bank'.
2025-05-24 11:05:22.030 | DEBUG    | arangodb.cli.db_connection:get_db_connection:89 - Ensuring edge collection and graph definition exist...
2025-05-24 11:05:22.031 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: relationships
2025-05-24 11:05:22.032 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: message_links
2025-05-24 11:05:22.033 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: knowledge_graph
2025-05-24 11:05:22.033 | DEBUG    | arangodb.cli.db_connection:get_db_connection:92 - Edge collection and graph definition checked/ensured.
2025-05-24 11:05:22.033 | DEBUG    | arangodb.cli.db_connection:get_db_connection:101 - Ensuring Memory Agent collections and views exist...
2025-05-24 11:05:22.034 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_memories
2025-05-24 11:05:22.035 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_messages
2025-05-24 11:05:22.036 | DEBUG    | arangodb.core.arango_setup:ensure_collection:291 - Collection already exists: agent_relationships
2025-05-24 11:05:22.036 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:134 - View agent_memory_view policy: check_config
2025-05-24 11:05:22.038 | DEBUG    | arangodb.core.view_manager:view_needs_update:89 - View agent_memory_view config comparison:
2025-05-24 11:05:22.038 | DEBUG    | arangodb.core.view_manager:view_needs_update:90 - Current config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false, "storeValues": "none", "trackListPositions": false}}
2025-05-24 11:05:22.038 | DEBUG    | arangodb.core.view_manager:view_needs_update:91 - Expected config: {"agent_memories": {"analyzers": ["text_en"], "fields": {"content": {}, "metadata.context": {}, "summary": {}, "tags": {}}, "includeAllFields": false}}
2025-05-24 11:05:22.038 | DEBUG    | arangodb.core.view_manager:view_needs_update:92 - Configs equal: False
2025-05-24 11:05:22.038 | DEBUG    | arangodb.core.view_manager:view_needs_update:95 - View agent_memory_view configuration differs
2025-05-24 11:05:22.038 | DEBUG    | arangodb.core.view_manager:ensure_arangosearch_view_optimized:144 - View agent_memory_view needs_update result: True
2025-05-24 11:05:22.038 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:151 - View agent_memory_view needs update or doesn't exist
2025-05-24 11:05:22.039 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:158 - Deleting existing view: agent_memory_view
2025-05-24 11:05:23.042 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:176 - Creating ArangoSearch view: agent_memory_view
2025-05-24 11:05:23.062 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:184 - Allowing time for indexing to begin: agent_memory_view
2025-05-24 11:05:25.064 | INFO     | arangodb.core.view_manager:ensure_arangosearch_view_optimized:187 - Successfully created/updated view: agent_memory_view
2025-05-24 11:05:25.064 | INFO     | arangodb.core.arango_setup:ensure_memory_agent_collections:477 - Memory agent collections and views ensured
2025-05-24 11:05:25.064 | DEBUG    | arangodb.cli.db_connection:get_db_connection:105 - Ensuring Memory graph exists...
2025-05-24 11:05:25.066 | DEBUG    | arangodb.core.arango_setup:ensure_graph:521 - Graph already exists: memory_graph
2025-05-24 11:05:25.066 | DEBUG    | arangodb.cli.db_connection:get_db_connection:108 - Memory Agent collections, views, and graph checked/ensured.
2025-05-24 11:05:25.066 | INFO     | arangodb.core.utils.embedding_utils:get_embedding:73 - Generating embedding for text: 2025-05-24T11:05:25.066717...
2025-05-24 11:05:25.066 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:41 - Initializing embedding model: BAAI/bge-large-en-v1.5
2025-05-24 11:05:26.517 | INFO     | arangodb.core.utils.embedding_utils:_initialize_model:48 - Model loaded on GPU
2025-05-24 11:05:26.733 | DEBUG    | arangodb.cli.crud_commands:create_document:103 - Generated embedding for fields: ['created_at']
2025-05-24 11:05:26.736 | ERROR    | arangodb.cli.crud_commands:create_document:136 - Create failed: [HTTP 404][ERR 1203] collection or view not found: entities

